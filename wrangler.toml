# Cloudflare Pages + Functions Configuration
# This file configures both local development and production deployment

name = "farmers-boot"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# D1 Database Configuration
[[d1_databases]]
binding = "DB"
database_name = "farmers_boot"
database_id = "96ba79d2-c66e-4421-9116-3d231666266c"

# Environment Variables
[vars]
JWT_SECRET = "Kpl44YRP4CRv37pOTF2gVgg6ByGdVUIrkzSKUcCs0Ug="

# Local Development Environment
[env.local.vars]
ENVIRONMENT = "local"
CF_PAGES_URL = "http://localhost:8788"

# Production Environment
[env.production.vars]
ENVIRONMENT = "production"
CF_PAGES_URL = "https://farmers-boot.pages.dev"
# Note: JWT_SECRET should be set as a secret in Cloudflare Pages

# Function bindings for Pages Functions
pages_build_output_dir = "frontend/dist"

# Pages Functions configuration
functions = "functions"

[functions]
compatibility_flags = ["nodejs_compat"]